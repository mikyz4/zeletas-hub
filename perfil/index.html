<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Perfil - Zeletas Hub</title>
  <link rel="stylesheet" href="../assets/css/styles.css">
</head>
<body>

<header>
  <h1>Zeletas Hub - Perfil</h1>
  <button id="logoutBtn">Cerrar sesi칩n</button>
</header>

<section class="hero">
  <h2>Bienvenido, <span id="nombreUsuario">Usuario</span></h2>
  <p>Email: <span id="emailUsuario"></span></p>
  <p>Estado de verificaci칩n: <span id="verificacionUsuario">B치sico</span></p>
</section>

<script src="../assets/js/supabase.js"></script>
<script>
const nombreUsuario = document.getElementById('nombreUsuario');
const emailUsuario = document.getElementById('emailUsuario');
const verificacionUsuario = document.getElementById('verificacionUsuario');
const logoutBtn = document.getElementById('logoutBtn');

async function cargarUsuario() {
  const { data: { user } } = await supabase.auth.getUser();
  if (user) {
    nombreUsuario.textContent = user.user_metadata.nombre || "Usuario";
    emailUsuario.textContent = user.email;
    verificacionUsuario.textContent = user.email_confirmed_at ? "Verificado" : "B치sico";
  } else {
    window.location.href = "../login/";
  }
}

logoutBtn.addEventListener('click', async () => {
  await supabase.auth.signOut();
  window.location.href = "../login/";
});

cargarUsuario();
</script>

</body>
</html>
