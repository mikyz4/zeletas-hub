<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>ZELETAS HUB - Grupo Zeletas</title>
<link rel="stylesheet" href="assets/css/styles.css">
<style>
/* MODALES BÃSICOS */
.modal { display: none; position: fixed; top:0; left:0; width:100%; height:100%; background: rgba(0,0,0,0.5); justify-content:center; align-items:center; }
.modal.active { display: flex; }
.modal-content { background:#fff; padding:20px; border-radius:8px; width:90%; max-width:400px; position:relative; }
.modal-content .close { position:absolute; top:10px; right:15px; cursor:pointer; font-size:20px; }
#mensajeModal, #mensajeModalRegistro { margin-top:10px; font-weight:bold; }
</style>
</head>
<body>

<!-- MENÃš MÃ“VIL Y OVERLAY -->
<div class="overlay"></div>
<div class="mobile-menu">
  <div class="menu-title">MenÃº ZELETAS</div>
  <a href="index.html">ğŸ  Inicio</a>
  <a href="marketplace/index.html">ğŸ§© Marketplace (2Âª mano)</a>
  <a href="tienda/index.html">ğŸ›’ Tienda Oficial</a>
  <a href="vehiculos/index.html">ğŸš— VehÃ­culos</a>
  <a href="inmobiliaria/index.html">ğŸ  Inmobiliaria</a>
  <a href="servicios/index.html">ğŸ› ï¸ Servicios</a>
  <a href="asesoria/index.html">ğŸ‘¤ AsesorÃ­a</a>
  <a href="financiacion/index.html">ğŸ’³ FinanciaciÃ³n</a>
  <a href="contacto/index.html">ğŸ“© Contacto</a>
  <div class="menu-user">
    <button id="btnLoginMobile">Iniciar sesiÃ³n</button>
    <button id="btnRegistroMobile">Registrarse</button>
  </div>
</div>

<!-- HEADER -->
<header>
  <div class="header-inner">
    <div class="logo">ZELETAS <span>Hub</span></div>
    <nav class="nav-desktop">
      <a href="marketplace/index.html">Marketplace</a>
      <a href="tienda/index.html">Tienda Oficial</a>
      <a href="vehiculos/index.html">VehÃ­culos</a>
      <a href="inmobiliaria/index.html">Inmobiliaria</a>
      <a href="servicios/index.html">Servicios</a>
      <a href="contacto/index.html">Contacto</a>
      <span id="navUser">
        <button id="btnLogin">Iniciar sesiÃ³n</button>
        <button id="btnRegistro">Registrarse</button>
      </span>
    </nav>
  </div>
</header>

<!-- HERO -->
<section class="hero">
  <h1>Grupo ZELETAS</h1>
  <p>Hub multi-negocio con enfoque premium: marketplace, tienda, vehÃ­culos, inmobiliaria, servicios y asesorÃ­a profesional.</p>
  <div class="hero-actions">
    <a class="btn btn-primary" href="marketplace/index.html">Entrar al Marketplace</a>
    <a class="btn btn-secondary" href="tienda/index.html">Ver Tienda Oficial</a>
  </div>
</section>

<!-- MODALES LOGIN / REGISTRO -->
<div id="modalLogin" class="modal">
  <div class="modal-content">
    <span class="close" id="closeLogin">&times;</span>
    <h3>Iniciar sesiÃ³n</h3>
    <input type="email" id="loginEmail" placeholder="Correo">
    <input type="password" id="loginPassword" placeholder="ContraseÃ±a">
    <button id="loginBtn">Entrar</button>
    <div id="mensajeModal"></div>
  </div>
</div>

<div id="modalRegistro" class="modal">
  <div class="modal-content">
    <span class="close" id="closeRegistro">&times;</span>
    <h3>Registrarse</h3>
    <input type="text" id="regNombre" placeholder="Nombre completo">
    <input type="email" id="regEmail" placeholder="Correo">
    <input type="password" id="regPassword" placeholder="ContraseÃ±a">
    <button id="registroBtn">Crear cuenta</button>
    <div id="mensajeModalRegistro"></div>
  </div>
</div>

<!-- SCRIPTS -->
<script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
<script>
const SUPABASE_URL = "https://tmiblfkgxzibcpluixxl.supabase.co";
const SUPABASE_ANON_KEY = "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InRtaWJsZmtneHppYmNwbHVpeHhsIiwicm9sZSI6ImFub24iLCJpYXQiOjE3Njk4NjQ4NjEsImV4cCI6MjA4NTQ0MDg2MX0.86RmLdPT3h1GCxks2yLTKC7aBIz8Wt93IahRQhht4qA";
const supabase = supabaseJs.createClient(SUPABASE_URL, SUPABASE_ANON_KEY);

document.addEventListener('DOMContentLoaded', () => {
  // Modales
  const modalLogin = document.getElementById('modalLogin');
  const modalRegistro = document.getElementById('modalRegistro');

  const openLoginButtons = [document.getElementById('btnLogin'), document.getElementById('btnLoginMobile')];
  const openRegistroButtons = [document.getElementById('btnRegistro'), document.getElementById('btnRegistroMobile')];

  const closeLogin = document.getElementById('closeLogin');
  const closeRegistro = document.getElementById('closeRegistro');

  const mensajeModal = document.getElementById('mensajeModal');
  const mensajeModalRegistro = document.getElementById('mensajeModalRegistro');

  // Abrir modales
  openLoginButtons.forEach(b => b?.addEventListener('click', () => modalLogin.classList.add('active')));
  openRegistroButtons.forEach(b => b?.addEventListener('click', () => modalRegistro.classList.add('active')));

  // Cerrar modales
  closeLogin?.addEventListener('click', () => modalLogin.classList.remove('active'));
  closeRegistro?.addEventListener('click', () => modalRegistro.classList.remove('active'));
  window.addEventListener('click', e => {
    if(e.target === modalLogin) modalLogin.classList.remove('active');
    if(e.target === modalRegistro) modalRegistro.classList.remove('active');
  });

  // LOGIN
  document.getElementById('loginBtn')?.addEventListener('click', async () => {
    const email = document.getElementById('loginEmail').value;
    const password = document.getElementById('loginPassword').value;
    const { data, error } = await supabase.auth.signInWithPassword({ email, password });
    if(error){
      mensajeModal.textContent = error.message;
      mensajeModal.style.color='red';
    } else {
      mensajeModal.textContent='Â¡Login correcto!';
      mensajeModal.style.color='green';
      setTimeout(()=>location.reload(),1000);
    }
  });

  // REGISTRO
  document.getElementById('registroBtn')?.addEventListener('click', async () => {
    const nombre = document.getElementById('regNombre').value;
    const email = document.getElementById('regEmail').value;
    const password = document.getElementById('regPassword').value;
    const { data, error } = await supabase.auth.signUp({ email, password, options:{ data:{ nombre } } });
    if(error){
      mensajeModalRegistro.textContent = error.message;
      mensajeModalRegistro.style.color='red';
    } else {
      mensajeModalRegistro.textContent='Cuenta creada. Revisa tu email.';
      mensajeModalRegistro.style.color='green';
      setTimeout(()=>modalRegistro.classList.remove('active'),1500);
    }
  });
});
</script>
</body>
</html>
