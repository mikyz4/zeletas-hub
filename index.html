<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>ZELETAS HUB - Grupo Zeletas</title>
  <link rel="stylesheet" href="assets/css/styles.css" />
  <style>
    /* ESTILOS DE LOS MODALES DE LOGIN Y REGISTRO */
    .modal {
      display: none;
      position: fixed;
      top: 0; left: 0; right:0; bottom:0;
      background: rgba(0,0,0,0.6);
      justify-content: center;
      align-items: center;
      z-index: 1000;
    }
    .modal.active { display: flex; }
    .modal-content {
      background: #fff;
      padding: 2rem;
      border-radius: 12px;
      width: 90%;
      max-width: 400px;
      position: relative;
    }
    .modal-content h2 { margin-bottom: 1rem; }
    .modal-content form input { width: 100%; margin-bottom: 1rem; padding: .5rem; }
    .modal-content form button { width: 100%; padding: .6rem; background:#007bff;color:#fff;border:none;border-radius:6px;cursor:pointer; }
    .modal-close { position: absolute; top: 10px; right: 15px; cursor:pointer; font-size: 1.2rem; }
    #mensajeLogin, #mensajeRegistro { margin-top: 1rem; }
  </style>
</head>
<body>

  <!-- OVERLAY + MOBILE MENU -->
  <div class="overlay"></div>

  <div class="mobile-menu">
    <div class="menu-title">Men√∫ ZELETAS</div>
    <a href="index.html">üè† Inicio</a>
    <a href="marketplace/index.html">üß© Marketplace (2¬™ mano)</a>
    <a href="tienda/index.html">üõí Tienda Oficial</a>
    <a href="vehiculos/index.html">üöó Veh√≠culos</a>
    <a href="inmobiliaria/index.html">üè† Inmobiliaria</a>
    <a href="servicios/index.html">üõ†Ô∏è Servicios</a>
    <a href="asesoria/index.html">üë§ Asesor√≠a</a>
    <a href="financiacion/index.html">üí≥ Financiaci√≥n</a>
    <a href="contacto/index.html">üì© Contacto</a>
    <div class="menu-user" id="menuUserMobile">
      <button id="abrirLoginMobile">Iniciar sesi√≥n</button>
      <button id="abrirRegistroMobile">Registrarse</button>
    </div>
  </div>

  <!-- HEADER -->
  <header>
    <div class="header-inner">
      <div class="logo">ZELETAS <span>Hub</span></div>

      <nav class="nav-desktop">
        <a href="marketplace/index.html">Marketplace</a>
        <a href="tienda/index.html">Tienda Oficial</a>
        <a href="vehiculos/index.html">Veh√≠culos</a>
        <a href="inmobiliaria/index.html">Inmobiliaria</a>
        <a href="servicios/index.html">Servicios</a>
        <a href="contacto/index.html">Contacto</a>
        <span id="navUser">
          <button id="abrirLogin">Iniciar sesi√≥n</button>
          <button id="abrirRegistro">Registrarse</button>
        </span>
      </nav>

      <div class="hamburger" aria-label="Abrir men√∫">
        <span></span><span></span><span></span>
      </div>
    </div>
  </header>

  <!-- HERO -->
  <section class="hero">
    <h1>Grupo ZELETAS</h1>
    <p>
      Un hub multi-negocio con enfoque premium: marketplace de segunda mano, tienda oficial,
      veh√≠culos, inmobiliaria, servicios y asesor√≠a profesional.
    </p>
    <div class="hero-actions">
      <a class="btn btn-primary" href="marketplace/index.html">Entrar al Marketplace</a>
      <a class="btn btn-secondary" href="tienda/index.html">Ver Tienda Oficial</a>
    </div>
  </section>

  <!-- COMO FUNCIONA -->
  <section class="section">
    <h2 class="section-title">¬øC√≥mo funciona ZELETAS?</h2>
    <p class="section-subtitle">
      ZELETAS combina intermediaci√≥n, gesti√≥n y modelos digitales para operar sin necesidad de stock propio,
      conectando clientes con soluciones reales y profesionales.
    </p>
    <div class="grid">
      <!-- Cards aqu√≠ (igual que tu dise√±o anterior) -->
    </div>
  </section>

  <!-- FOOTER -->
  <footer>
    <div>¬© 2026 ZELETAS HUB. Todos los derechos reservados.</div>
    <div class="footer-links">
      <a href="legal/aviso-legal.html">Aviso legal</a>
      <a href="legal/privacidad.html">Privacidad</a>
      <a href="legal/cookies.html">Cookies</a>
      <a href="legal/terminos.html">T√©rminos</a>
    </div>
  </footer>

  <!-- WhatsApp flotante -->
  <a href="https://wa.me/34632125872" class="whatsapp-float" target="_blank">üí¨</a>

  <!-- MODAL LOGIN -->
  <div class="modal" id="modalLogin">
    <div class="modal-content">
      <span class="modal-close" id="cerrarLogin">&times;</span>
      <h2>Iniciar sesi√≥n</h2>
      <form id="loginForm">
        <input type="email" id="loginEmail" placeholder="Correo electr√≥nico" required>
        <input type="password" id="loginPassword" placeholder="Contrase√±a" required>
        <button type="submit">Iniciar sesi√≥n</button>
      </form>
      <div id="mensajeLogin"></div>
    </div>
  </div>

  <!-- MODAL REGISTRO -->
  <div class="modal" id="modalRegistro">
    <div class="modal-content">
      <span class="modal-close" id="cerrarRegistro">&times;</span>
      <h2>Registrarse</h2>
      <form id="registroForm">
        <input type="text" id="regNombre" placeholder="Nombre completo" required>
        <input type="email" id="regEmail" placeholder="Correo electr√≥nico" required>
        <input type="password" id="regPassword" placeholder="Contrase√±a" required>
        <label><input type="checkbox" id="regTerminos" required> Acepto <a href="legal/terminos.html">t√©rminos</a></label>
        <button type="submit">Registrarse</button>
      </form>
      <div id="mensajeRegistro"></div>
    </div>
  </div>

  <!-- SCRIPTS -->
  <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js"></script>
  <script src="assets/js/supabase.js"></script>
  <script src="assets/js/app.js"></script>
  <script>
    // --------------------------
    // MODALES LOGIN / REGISTRO
    // --------------------------
    const modalLogin = document.getElementById('modalLogin');
    const modalRegistro = document.getElementById('modalRegistro');

    // Abrir modales
    document.getElementById('abrirLogin')?.addEventListener('click', ()=> modalLogin.classList.add('active'));
    document.getElementById('abrirLoginMobile')?.addEventListener('click', ()=> modalLogin.classList.add('active'));
    document.getElementById('abrirRegistro')?.addEventListener('click', ()=> modalRegistro.classList.add('active'));
    document.getElementById('abrirRegistroMobile')?.addEventListener('click', ()=> modalRegistro.classList.add('active'));

    // Cerrar modales
    document.getElementById('cerrarLogin').addEventListener('click', ()=> modalLogin.classList.remove('active'));
    document.getElementById('cerrarRegistro').addEventListener('click', ()=> modalRegistro.classList.remove('active'));

    // --------------------------
    // LOGIN
    // --------------------------
    const loginForm = document.getElementById('loginForm');
    const mensajeLogin = document.getElementById('mensajeLogin');

    loginForm.addEventListener('submit', async (e)=>{
      e.preventDefault();
      const email = document.getElementById('loginEmail').value;
      const password = document.getElementById('loginPassword').value;

      const { data, error } = await supabase.auth.signInWithPassword({ email, password });
      if(error){
        mensajeLogin.textContent = error.message;
        mensajeLogin.style.color='red';
      } else if(data.user){
        mensajeLogin.textContent = 'Inicio de sesi√≥n correcto';
        mensajeLogin.style.color='green';
        modalLogin.classList.remove('active');
        location.reload();
      }
    });

    // --------------------------
    // REGISTRO
    // --------------------------
    const registroForm = document.getElementById('registroForm');
    const mensajeRegistro = document.getElementById('mensajeRegistro');

    registroForm.addEventListener('submit', async (e)=>{
      e.preventDefault();
      const nombre = document.getElementById('regNombre').value;
      const email = document.getElementById('regEmail').value;
      const password = document.getElementById('regPassword').value;

      const { data, error } = await supabase.auth.signUp({
        email,
        password,
        options:{ data:{ nombre } }
      });

      if(error){
        mensajeRegistro.textContent = error.message;
        mensajeRegistro.style.color='red';
      } else {
        mensajeRegistro.textContent = 'Cuenta creada. Revisa tu email';
        mensajeRegistro.style.color='green';
        registroForm.reset();
        modalRegistro.classList.remove('active');
      }
    });

    // --------------------------
    // ACTUALIZAR BOTONES SEG√öN SESI√ìN
    // --------------------------
    const navUser = document.getElementById('navUser');
    const menuUserMobile = document.getElementById('menuUserMobile');

    async function checkUser(){
      const { data:{ user } } = await supabase.auth.getUser();
      if(user){
        navUser.innerHTML = `<a href="perfil/index.html">Mi perfil</a> | <a href="#" id="logoutBtn">Cerrar sesi√≥n</a>`;
        menuUserMobile.innerHTML = `<a href="perfil/index.html">Mi perfil</a><a href="#" id="logoutBtnMobile">Cerrar sesi√≥n</a>`;
        document.getElementById('logoutBtn')?.addEventListener('click', async ()=>{
          await supabase.auth.signOut(); location.reload();
        });
        document.getElementById('logoutBtnMobile')?.addEventListener('click', async ()=>{
          await supabase.auth.signOut(); location.reload();
        });
      }
    }

    checkUser();
    supabase.auth.onAuthStateChange(()=>checkUser());
  </script>
</body>
</html>
